<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Character Maker</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.js"></script>
</head>

<body ng-app="formExample">
<h1>Design Your Own Hero</h1>

<div ng-controller="ExampleController">
    <form>
        Name:<input type="text" ng-model="user.name" />
        <select ng-model="class">
            <option value="warrior" selected>Warrior</option>
            <option value="magician">Magician</option>
            <option value="knight">Knight</option>
        </select>

        <div ng-init="user.counter=0; user.max=10; user.hp = 50; user.defense=50; user.damage=50">

            <div ng-switch="class">

                <div ng-switch-when="warrior">
                    <br /> HP:
                    <input ng-model="user.hp" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.hp=user.hp+1; user.max=user.max-1; user.counter=user.counter+1">Add Health</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.hp<=50" ng-click="user.hp=user.hp-1; user.max=user.max+1; user.counter=user.counter-1">Remove Health</button>
                    <br /> Defense:
                    <input ng-model="user.defense" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.defense=user.defense+1; user.max=user.max-1; user.counter=user.counter+1">Add Defense</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.defense<=50" ng-click="user.defense=user.defense-1; user.max=user.max+1; user.counter=user.counter-1">Remove Defense</button>
                    <br /> Damage:
                    <input ng-model="user.damage" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.damage=user.damage+1; user.max=user.max-1; user.counter=user.counter+1">Add Damage</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.damage<=50" ng-click="user.damage=user.damage-1; user.max=user.max+1; user.counter=user.counter-1">Remove Damage</button>
                    <br />
                    <input type="button" ng-click="reset()" value="Reset" />
                    <input type="submit" ng-click="update(user)" value="Save" />
                </div>

                <div ng-switch-when="magician">
                    <br /> HP:
                    <input ng-model="user.hp" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.hp=user.hp+1; user.max=user.max-1; user.counter=user.counter+1">Add Health</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.hp<=50" ng-click="user.hp=user.hp-1; user.max=user.max+1; user.counter=user.counter-1">Remove Health</button>
                    <br /> Defense:
                    <input ng-model="user.defense" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.defense=user.defense+1; user.max=user.max-1; user.counter=user.counter+1">Add Defense</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.defense<=50" ng-click="user.defense=user.defense-1; user.max=user.max+1; user.counter=user.counter-1">Remove Defense</button>
                    <br /> Damage:
                    <input ng-model="user.damage" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.damage=user.damage+1; user.max=user.max-1; user.counter=user.counter+1">Add Damage</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.damage<=50" ng-click="user.damage=user.damage-1; user.max=user.max+1; user.counter=user.counter-1">Remove Damage</button>
                    <br />
                    <input type="button" ng-click="reset()" value="Reset" />
                    <input type="submit" ng-click="update(user)" value="Save" />
                </div>

                <div ng-switch-when="knight">
                    <br /> HP:
                    <input ng-model="user.hp" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.hp=user.hp+1; user.max=user.max-1; user.counter=user.counter+1">Add Health</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.hp<=50" ng-click="user.hp=user.hp-1; user.max=user.max+1; user.counter=user.counter-1">Remove Health</button>
                    <br /> Defense:
                    <input ng-model="user.defense" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.defense=user.defense+1; user.max=user.max-1; user.counter=user.counter+1">Add Defense</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.defense<=50" ng-click="user.defense=user.defense-1; user.max=user.max+1; user.counter=user.counter-1">Remove Defense</button>
                    <br /> Damage:
                    <input ng-model="user.damage" />
                    <br />
                    <button ng-disabled="user.counter>=10" ng-click="user.damage=user.damage+1; user.max=user.max-1; user.counter=user.counter+1">Add Damage</button>
                    <br />
                    <button ng-show="user.counter" ng-disabled="user.damage<=50" ng-click="user.damage=user.damage-1; user.max=user.max+1; user.counter=user.counter-1">Remove Damage</button>
                    <br />
                    <input type="button" ng-click="reset()" value="Reset" />
                    <input type="submit" ng-click="update(user)" value="Save" />
                </div>
            </div>
        </div>
    </form>
    <pre>user = {{user | json}}</pre>
    <pre>master = {{master | json}}</pre>
</div>

<script>
    angular.module('formExample', [])
            .controller('ExampleController', function($scope) {
                $scope.master = {
                    "hp": 50,
                    "defense": 50,
                    "damage": 50
                };

                $scope.update = function(user) {
                    $scope.master = angular.copy(user);
                };

                $scope.reset = function() {
                    $scope.user = angular.copy($scope.master);
                };

                $scope.reset();
            });
</script>
</body>

</html>